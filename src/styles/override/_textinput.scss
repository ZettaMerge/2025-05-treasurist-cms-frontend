// $required-color: $primary !default;
$required-color: $accent !default;
$validation-error-border: 1px solid $accent !default;
$error-message-tooltip-color: #fff !default;
$error-message-tooltip-background-color: $accent !default;
$text-input-height: 48px;
$text-placeholder: #959595;

.form-control {
  border-radius: $border-radius-sm;
  font-size: $size-normal;
  border: 2px solid $border-light;
  height: $text-input-height;
  color: $text-primary;
  &::placeholder {
    color: $text-placeholder;
  }
  &:hover {
    box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.1);
  }
  &:focus {
    border-color: $primary;
    box-shadow: 0 0 3px 0 rgba($primary-dark, 0.3);
    &::placeholder {
      transition: none;
      transform: none;
    }
    & ~ .form-control-position i {
      color: $primary;
    }
  }
  &:disabled,
  &:read-only {
    background-color: #fafafa;
    color: #959595;
    border: 2px solid $border-light;
  }
  &.is-small {
    // @extend .form-control-sm;
    height: 34px;
  }
}
//background: white;

.form-group {
  .form-control-position {
    height: $text-input-height;
    display: flex;
    align-items: center;
    justify-content: center;
    i {
      color: $text-placeholder;
    }
  }
  label.col-form-label {
    // color: $primary-light;
    align-self: baseline;
    font-size: $size-normal;
    text-transform: none;
    color: $text-primary;
    letter-spacing: 0.3px;
    position: relative;
    padding-right: 0.5rem;
    padding-bottom: 0.2rem;
    font-weight: $weight-normal;
    &.is-required::after {
      color: $required-color;
      content: "*";
      display: inline;
      position: absolute;
      right: 0rem;
    }
  }
  .form-input {
    flex: 1;
    position: relative;
  }
}

._form-group-auth {
  .form-control-position {
    height: $text-input-height;
    display: flex;
    align-items: center;
    justify-content: center;
    i {
      color: $text-placeholder;
    }
  }
  label.col-form-label {
    // color: $primary-light;
    align-self: baseline;
    font-size: $size-normal;
    text-transform: none;
    color: $text-primary;
    letter-spacing: 0.3px;
    position: relative;
    padding-right: 0.5rem;
    padding-bottom: 0.2rem;
    font-weight: $weight-normal;
    &.is-required::after {
      color: $required-color;
      content: "*";
      display: inline;
      position: absolute;
      right: 0rem;
    }
  }
  .form-input {
    flex: 1;
    position: relative;
    background: white;
  }
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 30px rgba($secondary, 0.2) inset !important;
}

form.submitted .select select.ng-invalid,
form.submitted .select select.ng-touched.ng-invalid,
form.submitted .form-control.ng-invalid,
form.submitted .form-control.ng-touched.ng-invalid,
form.submitted ng-select.ng-select.ng-select-single.ng-invalid .ng-select-container,
form.submitted ng-select.ng-select.ng-select-single.ng-touched.ng-invalid .ng-select-container,
form.submitted .ng-invalid .form-control._date-picker {
  border: $validation-error-border;
  padding-right: calc(1.5em + 0.75rem);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23d15845' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23d15845' stroke='none'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right calc(0.375em + 0.1875rem) center;
  background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
  & ~ .form-control-position {
    display: none;
  }
}

form.submitted .ng-invalid,
form.submitted .ng-touched.ng-invalid {
  &:hover ~ .error-message-tooltip {
    display: block;
  }

  & ~ .error-message-control {
    display: block;
  }

  &.input,
  &.textarea {
    border: $validation-error-border;
  }

  &input[type="radio"] {
    + span::before {
      border: $validation-error-border;
    }
  }

  &.base-control {
    .input,
    .select select,
    .textarea {
      border: $validation-error-border;
    }
    input[type="radio"] {
      + span::before {
        border: $validation-error-border;
      }
    }
  }
  &.no-text-error ~ .error-message-control {
    display: none;
  }
}

.error-message-control,
form:not(.submitted) .error-message-control {
  display: none;
}

.error-message-tooltip {
  display: none;
  position: absolute;
  top: -$input-height;
  left: 0;
  padding: 0.5rem 1rem;
  border-radius: $border-radius-sm;
  background-color: $error-message-tooltip-background-color;
  color: $error-message-tooltip-color;
  text-align: left;
  white-space: nowrap;
  z-index: 9999;
}
