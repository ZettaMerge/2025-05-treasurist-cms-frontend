<form
  #form="ngForm"
  [class.submitted]="form.submitted"
  (ngSubmit)="onSave(form)"
>

  <div class="card-body">
    <div class="_g-header">
      <div class="d-flex justify-content-between">
        <span class="text-primary font-size-medium">{{isNew ? 'สร้างรายการใหม่' : 'แก้ไขไฟล์'}}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="form-group">
          <label class="col-form-label is-required">ชื่อไฟล์</label>
          <div class="form-input">
            <input
              type="text"
              name="fileName"
              class="form-control"
              placeholder="โปรดระบุ"
              [(ngModel)]="documentFileData.name"
              required
            >
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="form-group">
          <label class="col-form-label is-required">URL</label>
          <div class="form-input">
            <input
              type="text"
              name="url"
              class="form-control"
              placeholder="โปรดระบุ"
              [(ngModel)]="documentFileData.url"
              required
              vLink
            >
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <label class="col-form-label">หมวดหมู่เอกสาร</label>
          <shared-file-categories-dropdown
            name="categories"
            id="categories"
            [(ngModel)]="documentFileData.docFileCategory"
            (ngModelChange)="onChangCategory($event)"
          >

          </shared-file-categories-dropdown>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <label class="col-form-label">ประเภทเอกสาร</label>
          <shared-file-type-dropdown
            name="type"
            id="type"
            [(ngModel)]="documentFileData.docFileType"
            [disabled]="!documentFileData.docFileCategory || fileOther === 'อื่น ๆ '"
            [categoryCode]="categoryCode"
            (ngModelChange)="onChangType($event)"
            [required]="documentFileData.docFileCategory && documentFileData.docFileCategory !== 'อื่น ๆ ' && !documentFileData.docFileType"
          ></shared-file-type-dropdown>
        </div>
      </div>

      <div class="col-12">
        <div class="form-group">
          <label class="col-form-label">หมายเหตุ</label>
          <div class="form-input">
            <input
              type="text"
              name="note"
              class="form-control"
              placeholder="โปรดระบุ"
              [(ngModel)]="documentFileData.remark"
            >
          </div>
        </div>
      </div>

      <div class="col-12">
        <ul class="list-unstyled mt-2">
          <li class="d-inline-block ">
            <div class="checkbox">
              <input
                type="checkbox"
                id="publish-to-agent"
                name="publish-to-agent"
                [(ngModel)]="documentFileData.isPublishToAgent"
              >
              <label for="publish-to-agent"><span>Publish to Agent</span></label>
            </div>
          </li>
        </ul>
      </div>

    </div>

    <div class="d-flex justify-content-end pt-3">
      <button
        type="button"
        class="btn btn-clear mr-2 "
        (click)="onCancel()"
      >
        <span><i class="ic-cross"></i>ยกเลิก</span>
      </button>

      <button
        type="submit"
        class="btn btn-primary "
      >
        <span><i class="ic-cross"></i>บันทึก</span>
      </button>

    </div>
  </div>
</form>
