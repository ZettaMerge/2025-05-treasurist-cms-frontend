<form
  #form="ngForm"
  [class.submitted]="form.submitted"
  (ngSubmit)="onSave(form)"
>
  <div class="card-body">
    <div class="d-flex justify-content-between">
      <div class="_g-header-card">
        <span class="text-primary font-size-medium">{{isNew ? 'เพิ่ม': 'แก้ไข'}}ผู้ใช้งาน</span>
      </div>
      <a
        *ngIf="!isNew"
        (click)="onDelete(this.userData)"
      ><i class="ic ic-delete text-primary"></i> ลบรายการ</a>
    </div>
    <div class="d-flex">
      <div class="col-6 pl-0">
        <div class="form-group">
          <label class="col-form-label is-required">ชื่อจริง</label>
          <div class="form-input">
            <input
              type="text"
              class="form-control"
              placeholder="โปรดระบุ"
              id="firstName"
              name="firstName"
              [(ngModel)]="userData.firstName"
              required
            >
          </div>
        </div>
      </div>
      <div class="col-6 pr-0">
        <div class="form-group">
          <label class="col-form-label is-required">นามสกุลจริง</label>
          <div class="form-input">
            <input
              type="text"
              id="lastName"
              name="lastName"
              class="form-control"
              placeholder="โปรดระบุ"
              [(ngModel)]="userData.lastName"
              required
            >
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex">
      <div class="col-6 pl-0">
        <div class="form-group">
          <label class="col-form-label is-required">อีเมล</label>
          <div class="form-input">
            <input
              type="text"
              id="email"
              name="email"
              class="form-control"
              placeholder="โปรดระบุ"
              [class._valid-form-error]="isError"
              [(ngModel)]="userData.email"
              (ngModelChange)="onEmailChange()"
              required
              vEmail
              [disabled]="!isNew"
            >
          </div>
          <error-message-control
            class="text-bold-500"
            *ngIf="isError"
            [text]="'ไม่สามารถเพิ่มผู้ใช้งานได้เนื่องจากอีเมลซ้ำ กรุณาระบุอีเมลใหม่'"
          >
          </error-message-control>

        </div>
      </div>
      <div class="col-6 pr-0">
        <div class="form-group">
          <label class="col-form-label is-required">เบอร์โทรศัพท์</label>
          <div class="form-input">
            <input
              type="tel"
              id="tel"
              name="tel"
              class="form-control"
              placeholder="โปรดระบุ"
              [(ngModel)]="userData.phoneNumber"
              required
              vDigit
            >
          </div>
        </div>
      </div>
    </div>

    <div
      class="pt-3 d-flex "
      [ngClass]="{'justify-content-end': !isNew}"
    >
      <div
        class="col-6 pl-1"
        *ngIf="isNew"
      >
        <p class="mb-0 font-weight-bold _text-color">เมื่อกดสร้างผู้ใช้งาน</p>
        <span class="_text-color">ระบบจะส่งอีเมลแจ้งเตือนไปยังผู้ใช้งานอัตโนมัติ</span>
      </div>
      <div class="col-6 d-flex pr-0">
        <div class="col-6 pl-0 _display-btn">
          <button
            type="button"
            class="btn btn-clear flex-1"
            (click)="onCancel()"
          >
            <span><i class="ic-cross"></i>ยกเลิก</span>
          </button>
        </div>
        <div class="col-6 pr-0 _display-btn">
          <button
            type="submit"
            class="btn btn-primary flex-1"
          >
            <span><i class="ic-cross"></i>{{isNew ? 'สร้าง' : 'บันทึก'}}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</form>